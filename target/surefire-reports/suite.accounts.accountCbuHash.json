[{"line":1,"elements":[{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url baseUrl","result":{"duration":41534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":3,"doc_string":{"content_type":"","value":"17:06:22.258 karate.env system property was:","line":3}},{"name":"header Authorization = 'bearer F9MHzuYZrfpRqNFBCa1uz8nYlO0FXV58FXf2NjKiJ6g.mCko309YYsj8aJ3jEO7po-zi8kpWiT6L7WT2_oVv1MI'","result":{"duration":17257687,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4}]},{"line":22,"name":"Validar deshasheo (OK)","description":"","id":"validar-deshasheo-(ok)","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def responseAccount = read('rta00671612.json')","result":{"duration":114315467,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def message_error = read('error_message_account.json')","result":{"duration":19100279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def hash = responseAccount[0].cbu_hash","result":{"duration":36721198,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"path '\/accounts\/<hash>'","result":{"duration":7442108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":15},{"name":"method GET","result":{"duration":3206567406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":16,"doc_string":{"content_type":"","value":"17:06:24.955 request:\n1 > GET https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Chash%3E\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: bearer F9MHzuYZrfpRqNFBCa1uz8nYlO0FXV58FXf2NjKiJ6g.mCko309YYsj8aJ3jEO7po-zi8kpWiT6L7WT2_oVv1MI\n1 > Connection: Keep-Alive\n1 > Host: api-play.bbva.com.ar\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_221)\n\n17:06:25.773 response time in milliseconds: 816,10\n1 < 401\n1 < Content-Length: 141\n1 < Content-Type: application\/json\n1 < Date: Sat, 16 May 2020 20:06:25 GMT\n1 < Set-Cookie: [92e7efa1708da794e9a17a9b9b28b490=68d839c474b6d17d032ff07d36d230f8; path=\/; HttpOnly; Secure, REQ_UNIQUE_ID=FF9F1D8210ED25CEB7955FE4BF2C6B2A;Path=\/;Expires=Thu, 06-Jan-2022 20:06:25 GMT]\n{\"error\":{\"code\":401,\"status\":\"Unauthorized\",\"reason\":\"Access token i says token is not active\",\"message\":\"Access credentials are invalid\"}}","line":16}},{"name":"status 200","result":{"duration":312259,"error_message":"com.intuit.karate.exception.KarateException: accountCbuHash.feature:17 - status code was: 401, expected: 200, response time: 816, url: https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Chash%3E, response: {\"error\":{\"reason\":\"Access token i says token is not active\",\"code\":401,\"message\":\"Access credentials are invalid\",\"status\":\"Unauthorized\"}}","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":17,"doc_string":{"content_type":"","value":"17:06:25.773 status code was: 401, expected: 200, response time: 816, url: https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Chash%3E, response: {\"error\":{\"reason\":\"Access token i says token is not active\",\"code\":401,\"message\":\"Access credentials are invalid\",\"status\":\"Unauthorized\"}}","line":17}},{"name":"match response contains any { \"cbu\":'responseAccount[0].cbu' }","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":18}],"tags":[{"name":"@account","line":10},{"name":"@cbuHash","line":10}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url baseUrl","result":{"duration":20389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":3,"doc_string":{"content_type":"","value":"17:06:22.266 karate.env system property was:","line":3}},{"name":"header Authorization = 'bearer F9MHzuYZrfpRqNFBCa1uz8nYlO0FXV58FXf2NjKiJ6g.mCko309YYsj8aJ3jEO7po-zi8kpWiT6L7WT2_oVv1MI'","result":{"duration":504070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4}]},{"line":26,"name":"validar STATUS CODE 400","description":"","id":"validar-status-code-400","type":"scenario","keyword":"Scenario","steps":[{"name":"path '\/accounts\/<cbu_hash>'","result":{"duration":4302905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":28},{"name":"method GET","result":{"duration":3411117022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29,"doc_string":{"content_type":"","value":"17:06:24.955 request:\n1 > GET https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Ccbu_hash%3E\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: bearer F9MHzuYZrfpRqNFBCa1uz8nYlO0FXV58FXf2NjKiJ6g.mCko309YYsj8aJ3jEO7po-zi8kpWiT6L7WT2_oVv1MI\n1 > Connection: Keep-Alive\n1 > Host: api-play.bbva.com.ar\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_221)\n\n17:06:25.793 response time in milliseconds: 835,02\n1 < 401\n1 < Content-Length: 141\n1 < Content-Type: application\/json\n1 < Date: Sat, 16 May 2020 20:06:25 GMT\n1 < Set-Cookie: [92e7efa1708da794e9a17a9b9b28b490=68d839c474b6d17d032ff07d36d230f8; path=\/; HttpOnly; Secure, REQ_UNIQUE_ID=83CC369FDAFAE5FC7864529F4E63D8A7;Path=\/;Expires=Thu, 06-Jan-2022 20:06:25 GMT]\n{\"error\":{\"code\":401,\"status\":\"Unauthorized\",\"reason\":\"Access token i says token is not active\",\"message\":\"Access credentials are invalid\"}}","line":29}},{"name":"status 400","result":{"duration":1391006,"error_message":"com.intuit.karate.exception.KarateException: accountCbuHash.feature:30 - status code was: 401, expected: 400, response time: 835, url: https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Ccbu_hash%3E, response: {\"error\":{\"reason\":\"Access token i says token is not active\",\"code\":401,\"message\":\"Access credentials are invalid\",\"status\":\"Unauthorized\"}}","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30,"doc_string":{"content_type":"","value":"17:06:25.793 status code was: 401, expected: 400, response time: 835, url: https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Ccbu_hash%3E, response: {\"error\":{\"reason\":\"Access token i says token is not active\",\"code\":401,\"message\":\"Access credentials are invalid\",\"status\":\"Unauthorized\"}}","line":30}},{"name":"match response == message_error[0]","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31}],"tags":[{"name":"@account","line":25},{"name":"@cbuHash","line":25}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url baseUrl","result":{"duration":16614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":3,"doc_string":{"content_type":"","value":"17:06:22.266 karate.env system property was:","line":3}},{"name":"header Authorization = 'bearer F9MHzuYZrfpRqNFBCa1uz8nYlO0FXV58FXf2NjKiJ6g.mCko309YYsj8aJ3jEO7po-zi8kpWiT6L7WT2_oVv1MI'","result":{"duration":143858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4}]},{"line":46,"name":"validar consulta con credenciales invalidas STATUS CODE 401","description":"","id":"validar-consulta-con-credenciales-invalidas-status-code-401","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def token_invalido = read('tokenInvalido.json')","result":{"duration":51993568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"path '\/accounts\/<cbu_hash>'","result":{"duration":168023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":38},{"name":"header Authorization = token_invalido","result":{"duration":284318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"method GET","result":{"duration":3337779216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":40,"doc_string":{"content_type":"","value":"17:06:24.955 request:\n1 > GET https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Ccbu_hash%3E\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: [{\"token\":\"bearer asdasdasdasd\"},{\"token\":\"\"},{\"token\":\"bearer Ju4VavWZkPl3vA9Qic048P641lJQ3k9LZmCbCP0WOEE.TT9U3m4qe9rpPxNZWN6K6-QzCZbpFL4SwoWGUXWah-Y\"}]\n1 > Connection: Keep-Alive\n1 > Host: api-play.bbva.com.ar\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_221)\n\n17:06:25.764 response time in milliseconds: 805,19\n1 < 401\n1 < Content-Length: 90\n1 < Content-Type: application\/json\n1 < Date: Sat, 16 May 2020 20:06:25 GMT\n1 < Set-Cookie: [92e7efa1708da794e9a17a9b9b28b490=68d839c474b6d17d032ff07d36d230f8; path=\/; HttpOnly; Secure, REQ_UNIQUE_ID=3D4722FEF70F8E60BCC65948608903BD;Path=\/;Expires=Thu, 06-Jan-2022 20:06:25 GMT]\n{\"error\":{\"code\":401,\"status\":\"Unauthorized\",\"message\":\"Access credentials are invalid\"}}","line":40}},{"name":"status 401","result":{"duration":22278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":41},{"name":"match response == \"error\": \"invalid_credentials\"","result":{"duration":2906613,"error_message":"com.intuit.karate.exception.KarateException: accountCbuHash.feature:42 - javascript evaluation failed: \"error\": \"invalid_credentials\", <eval>:1:7 Expected ; but found :\r\n\"error\": \"invalid_credentials\"\r\n       ^ in <eval> at line number 1 at column number 7","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42}],"tags":[{"name":"@account","line":35},{"name":"@cbuHash","line":35}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url baseUrl","result":{"duration":26808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":3,"doc_string":{"content_type":"","value":"17:06:22.266 karate.env system property was:","line":3}},{"name":"header Authorization = 'bearer F9MHzuYZrfpRqNFBCa1uz8nYlO0FXV58FXf2NjKiJ6g.mCko309YYsj8aJ3jEO7po-zi8kpWiT6L7WT2_oVv1MI'","result":{"duration":331516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4}]},{"line":47,"name":"validar consulta con credenciales invalidas STATUS CODE 401","description":"","id":"validar-consulta-con-credenciales-invalidas-status-code-401","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def token_invalido = read('tokenInvalido.json')","result":{"duration":199994865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"path '\/accounts\/<cbu_hash>'","result":{"duration":206914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":38},{"name":"header Authorization = token_expírado","result":{"duration":8741363,"error_message":"com.intuit.karate.exception.KarateException: accountCbuHash.feature:39 - javascript evaluation failed: token_expírado, ReferenceError: \"token_expírado\" is not defined in <eval> at line number 1","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"method GET","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":40},{"name":"status 401","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":41},{"name":"match response == \"error\": \"token_expired\"","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42}],"tags":[{"name":"@account","line":35},{"name":"@cbuHash","line":35}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url baseUrl","result":{"duration":20767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":3,"doc_string":{"content_type":"","value":"17:06:22.600 karate.env system property was:","line":3}},{"name":"header Authorization = 'bearer F9MHzuYZrfpRqNFBCa1uz8nYlO0FXV58FXf2NjKiJ6g.mCko309YYsj8aJ3jEO7po-zi8kpWiT6L7WT2_oVv1MI'","result":{"duration":176707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4}]},{"line":51,"name":"validar consulta para usuarios sin cuentas STATUS CODE 404","description":"","id":"validar-consulta-para-usuarios-sin-cuentas-status-code-404","type":"scenario","keyword":"Scenario","steps":[{"name":"path '\/accounts\/<cbu_hash>'","result":{"duration":113652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":54},{"name":"method GET","result":{"duration":3166377000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":55,"doc_string":{"content_type":"","value":"17:06:24.928 request:\n1 > GET https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Ccbu_hash%3E\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: bearer F9MHzuYZrfpRqNFBCa1uz8nYlO0FXV58FXf2NjKiJ6g.mCko309YYsj8aJ3jEO7po-zi8kpWiT6L7WT2_oVv1MI\n1 > Connection: Keep-Alive\n1 > Host: api-play.bbva.com.ar\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_221)\n\n17:06:25.765 response time in milliseconds: 835,09\n1 < 401\n1 < Content-Length: 141\n1 < Content-Type: application\/json\n1 < Date: Sat, 16 May 2020 20:06:25 GMT\n1 < Set-Cookie: [92e7efa1708da794e9a17a9b9b28b490=68d839c474b6d17d032ff07d36d230f8; path=\/; HttpOnly; Secure, REQ_UNIQUE_ID=FF8E64EB837092AF87745B4D225C4F3F;Path=\/;Expires=Thu, 06-Jan-2022 20:06:25 GMT]\n{\"error\":{\"code\":401,\"status\":\"Unauthorized\",\"reason\":\"Access token i says token is not active\",\"message\":\"Access credentials are invalid\"}}","line":55}},{"name":"status 404","result":{"duration":522948,"error_message":"com.intuit.karate.exception.KarateException: accountCbuHash.feature:56 - status code was: 401, expected: 404, response time: 835, url: https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Ccbu_hash%3E, response: {\"error\":{\"reason\":\"Access token i says token is not active\",\"code\":401,\"message\":\"Access credentials are invalid\",\"status\":\"Unauthorized\"}}","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":56,"doc_string":{"content_type":"","value":"17:06:25.765 status code was: 401, expected: 404, response time: 835, url: https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Ccbu_hash%3E, response: {\"error\":{\"reason\":\"Access token i says token is not active\",\"code\":401,\"message\":\"Access credentials are invalid\",\"status\":\"Unauthorized\"}}","line":56}},{"name":"match response == message_error[2]","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":57}],"tags":[{"name":"@account","line":50},{"name":"@cbuHash","line":50}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url baseUrl","result":{"duration":19257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":3,"doc_string":{"content_type":"","value":"17:06:25.773 karate.env system property was:","line":3}},{"name":"header Authorization = 'bearer F9MHzuYZrfpRqNFBCa1uz8nYlO0FXV58FXf2NjKiJ6g.mCko309YYsj8aJ3jEO7po-zi8kpWiT6L7WT2_oVv1MI'","result":{"duration":1623973,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4}]},{"line":61,"name":"validar bad request","description":"","id":"validar-bad-request","type":"scenario","keyword":"Scenario","steps":[{"name":"path '\/accounts\/<cbu_hash>'","result":{"duration":1608870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":63},{"name":"method GET","result":{"duration":110873822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":64,"doc_string":{"content_type":"","value":"17:06:25.785 request:\n1 > GET https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Ccbu_hash%3E\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: bearer F9MHzuYZrfpRqNFBCa1uz8nYlO0FXV58FXf2NjKiJ6g.mCko309YYsj8aJ3jEO7po-zi8kpWiT6L7WT2_oVv1MI\n1 > Connection: Keep-Alive\n1 > Host: api-play.bbva.com.ar\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_221)\n\n17:06:25.891 response time in milliseconds: 104,41\n1 < 401\n1 < Content-Length: 141\n1 < Content-Type: application\/json\n1 < Date: Sat, 16 May 2020 20:06:25 GMT\n1 < Set-Cookie: [92e7efa1708da794e9a17a9b9b28b490=68d839c474b6d17d032ff07d36d230f8; path=\/; HttpOnly; Secure, REQ_UNIQUE_ID=B9A9BE10A9DEED7AD32845F8626EE8AC;Path=\/;Expires=Thu, 06-Jan-2022 20:06:25 GMT]\n{\"error\":{\"code\":401,\"status\":\"Unauthorized\",\"reason\":\"Access token i says token is not active\",\"message\":\"Access credentials are invalid\"}}","line":64}},{"name":"status 500","result":{"duration":323586,"error_message":"com.intuit.karate.exception.KarateException: accountCbuHash.feature:65 - status code was: 401, expected: 500, response time: 104, url: https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Ccbu_hash%3E, response: {\"error\":{\"reason\":\"Access token i says token is not active\",\"code\":401,\"message\":\"Access credentials are invalid\",\"status\":\"Unauthorized\"}}","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":65,"doc_string":{"content_type":"","value":"17:06:25.891 status code was: 401, expected: 500, response time: 104, url: https:\/\/api-play.bbva.com.ar\/apibbvachannel\/accounts\/accounts\/%3Ccbu_hash%3E, response: {\"error\":{\"reason\":\"Access token i says token is not active\",\"code\":401,\"message\":\"Access credentials are invalid\",\"status\":\"Unauthorized\"}}","line":65}},{"name":"match response == message_error[3]","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":66}],"tags":[{"name":"@account","line":60},{"name":"@cbuHash","line":60}]}],"name":"suite\/accounts\/accountCbuHash.feature","description":"Validar servicio Account\/cbuHash","id":"validar-servicio-account\/cbuhash","keyword":"Feature","uri":"suite\/accounts\/accountCbuHash.feature"}]